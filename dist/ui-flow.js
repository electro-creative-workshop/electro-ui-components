!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"));else if("function"==typeof define&&define.amd)define(["react"],t);else{var n="object"==typeof exports?t(require("react")):t(e.React);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(e=>(()=>{"use strict";var t={480:(e,t,n)=>{n.d(t,{send:()=>r});var r=function(e,t){"undefined"!=typeof dataLayer&&((t=t||{}).event=e,dataLayer.push(t))}},329:t=>{t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,r),l.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{r.r(o),r.d(o,{default:()=>$e});var e,t,n=r(329),l=r(480);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}const c=function(r){return n.createElement("svg",i({viewBox:"0 0 16 17",fill:"none"},r),e||(e=n.createElement("path",{fill:"#DA291C",fillRule:"evenodd",d:"M8 2.4a6 6 0 1 0 0 12 6 6 0 0 0 0-12Zm-7.33 6a7.33 7.33 0 1 1 14.66 0 7.33 7.33 0 0 1-14.66 0Z",clipRule:"evenodd"})),t||(t=n.createElement("path",{fill:"#DA291C",fillRule:"evenodd",d:"M8 5.07c.37 0 .67.3.67.66V8.4a.67.67 0 0 1-1.34 0V5.73c0-.36.3-.66.67-.66Zm-.67 6a.67.67 0 1 1 .67.67.67.67 0 0 1-.67-.67Z",clipRule:"evenodd"})))};var u,a,s,f,p,_,d={},y=[],b=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function v(e,t){for(var n in t)e[n]=t[n];return e}function m(e){var t=e.parentNode;t&&t.removeChild(e)}function h(e,t,n,r,o){var l={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++s:o};return null==o&&null!=a.vnode&&a.vnode(l),l}function O(e){return e.children}function g(e,t){this.props=e,this.context=t}function j(e,t){if(null==t)return e.__?j(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?j(e):null}function w(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return w(e)}}function P(e){(!e.__d&&(e.__d=!0)&&f.push(e)&&!S.__r++||_!==a.debounceRendering)&&((_=a.debounceRendering)||p)(S)}function S(){for(var e;S.__r=f.length;)e=f.sort((function(e,t){return e.__v.__b-t.__v.__b})),f=[],e.some((function(e){var t,n,r,o,l,i;e.__d&&(l=(o=(t=e).__v).__e,(i=t.__P)&&(n=[],(r=v({},o)).__v=o.__v+1,I(i,o,r,t.__n,void 0!==i.ownerSVGElement,null!=o.__h?[l]:null,n,null==l?j(o):l,o.__h),T(n,o),o.__e!=l&&w(o)))}))}function k(e,t,n,r,o,l,i,c,u,a){var s,f,p,_,b,v,m,g=r&&r.__k||y,w=g.length;for(n.__k=[],s=0;s<t.length;s++)if(null!=(_=n.__k[s]=null==(_=t[s])||"boolean"==typeof _?null:"string"==typeof _||"number"==typeof _||"bigint"==typeof _?h(null,_,null,null,_):Array.isArray(_)?h(O,{children:_},null,null,null):_.__b>0?h(_.type,_.props,_.key,null,_.__v):_)){if(_.__=n,_.__b=n.__b+1,null===(p=g[s])||p&&_.key==p.key&&_.type===p.type)g[s]=void 0;else for(f=0;f<w;f++){if((p=g[f])&&_.key==p.key&&_.type===p.type){g[f]=void 0;break}p=null}I(e,_,p=p||d,o,l,i,c,u,a),b=_.__e,(f=_.ref)&&p.ref!=f&&(m||(m=[]),p.ref&&m.push(p.ref,null,_),m.push(f,_.__c||b,_)),null!=b?(null==v&&(v=b),"function"==typeof _.type&&_.__k===p.__k?_.__d=u=D(_,u,e):u=x(e,_,p,g,b,u),"function"==typeof n.type&&(n.__d=u)):u&&p.__e==u&&u.parentNode!=e&&(u=j(p))}for(n.__e=v,s=w;s--;)null!=g[s]&&("function"==typeof n.type&&null!=g[s].__e&&g[s].__e==n.__d&&(n.__d=j(r,s+1)),U(g[s],g[s]));if(m)for(s=0;s<m.length;s++)L(m[s],m[++s],m[++s])}function D(e,t,n){for(var r,o=e.__k,l=0;o&&l<o.length;l++)(r=o[l])&&(r.__=e,t="function"==typeof r.type?D(r,t,n):x(n,r,r,o,r.__e,t));return t}function x(e,t,n,r,o,l){var i,c,u;if(void 0!==t.__d)i=t.__d,t.__d=void 0;else if(null==n||o!=l||null==o.parentNode)e:if(null==l||l.parentNode!==e)e.appendChild(o),i=null;else{for(c=l,u=0;(c=c.nextSibling)&&u<r.length;u+=2)if(c==o)break e;e.insertBefore(o,l),i=l}return void 0!==i?i:o.nextSibling}function N(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||b.test(t)?n:n+"px"}function E(e,t,n,r,o){var l;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||N(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||N(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])l=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+l]=n,n?r||e.addEventListener(t,l?C:A,l):e.removeEventListener(t,l?C:A,l);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function A(e){this.l[e.type+!1](a.event?a.event(e):e)}function C(e){this.l[e.type+!0](a.event?a.event(e):e)}function I(e,t,n,r,o,l,i,c,u){var s,f,p,_,d,y,b,m,h,j,w,P,S,D=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(u=n.__h,c=t.__e=n.__e,t.__h=null,l=[c]),(s=a.__b)&&s(t);try{e:if("function"==typeof D){if(m=t.props,h=(s=D.contextType)&&r[s.__c],j=s?h?h.props.value:s.__:r,n.__c?b=(f=t.__c=n.__c).__=f.__E:("prototype"in D&&D.prototype.render?t.__c=f=new D(m,j):(t.__c=f=new g(m,j),f.constructor=D,f.render=R),h&&h.sub(f),f.props=m,f.state||(f.state={}),f.context=j,f.__n=r,p=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=D.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=v({},f.__s)),v(f.__s,D.getDerivedStateFromProps(m,f.__s))),_=f.props,d=f.state,p)null==D.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==D.getDerivedStateFromProps&&m!==_&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(m,j),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(m,f.__s,j)||t.__v===n.__v){f.props=m,f.state=f.__s,t.__v!==n.__v&&(f.__d=!1),f.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),f.__h.length&&i.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(m,f.__s,j),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(_,d,y)}))}if(f.context=j,f.props=m,f.__v=t,f.__P=e,w=a.__r,P=0,"prototype"in D&&D.prototype.render)f.state=f.__s,f.__d=!1,w&&w(t),s=f.render(f.props,f.state,f.context);else do{f.__d=!1,w&&w(t),s=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++P<25);f.state=f.__s,null!=f.getChildContext&&(r=v(v({},r),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(y=f.getSnapshotBeforeUpdate(_,d)),S=null!=s&&s.type===O&&null==s.key?s.props.children:s,k(e,Array.isArray(S)?S:[S],t,n,r,o,l,i,c,u),f.base=t.__e,t.__h=null,f.__h.length&&i.push(f),b&&(f.__E=f.__=null),f.__e=!1}else null==l&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=M(n.__e,t,n,r,o,l,i,u);(s=a.diffed)&&s(t)}catch(e){t.__v=null,(u||null!=l)&&(t.__e=c,t.__h=!!u,l[l.indexOf(c)]=null),a.__e(e,t,n)}}function T(e,t){a.__c&&a.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){a.__e(e,t.__v)}}))}function M(e,t,n,r,o,l,i,c){var a,s,f,p=n.props,_=t.props,y=t.type,b=0;if("svg"===y&&(o=!0),null!=l)for(;b<l.length;b++)if((a=l[b])&&"setAttribute"in a==!!y&&(y?a.localName===y:3===a.nodeType)){e=a,l[b]=null;break}if(null==e){if(null===y)return document.createTextNode(_);e=o?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,_.is&&_),l=null,c=!1}if(null===y)p===_||c&&e.data===_||(e.data=_);else{if(l=l&&u.call(e.childNodes),s=(p=n.props||d).dangerouslySetInnerHTML,f=_.dangerouslySetInnerHTML,!c){if(null!=l)for(p={},b=0;b<e.attributes.length;b++)p[e.attributes[b].name]=e.attributes[b].value;(f||s)&&(f&&(s&&f.__html==s.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}if(function(e,t,n,r,o){var l;for(l in n)"children"===l||"key"===l||l in t||E(e,l,null,n[l],r);for(l in t)o&&"function"!=typeof t[l]||"children"===l||"key"===l||"value"===l||"checked"===l||n[l]===t[l]||E(e,l,t[l],n[l],r)}(e,_,p,o,c),f)t.__k=[];else if(b=t.props.children,k(e,Array.isArray(b)?b:[b],t,n,r,o&&"foreignObject"!==y,l,i,l?l[0]:n.__k&&j(n,0),c),null!=l)for(b=l.length;b--;)null!=l[b]&&m(l[b]);c||("value"in _&&void 0!==(b=_.value)&&(b!==e.value||"progress"===y&&!b||"option"===y&&b!==p.value)&&E(e,"value",b,p.value,!1),"checked"in _&&void 0!==(b=_.checked)&&b!==e.checked&&E(e,"checked",b,p.checked,!1))}return e}function L(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){a.__e(e,n)}}function U(e,t,n){var r,o;if(a.unmount&&a.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||L(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){a.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&U(r[o],t,"function"!=typeof e.type);n||null==e.__e||m(e.__e),e.__e=e.__d=void 0}function R(e,t,n){return this.constructor(e,n)}u=y.slice,a={__e:function(e,t,n,r){for(var o,l,i;t=t.__;)if((o=t.__c)&&!o.__)try{if((l=o.constructor)&&null!=l.getDerivedStateFromError&&(o.setState(l.getDerivedStateFromError(e)),i=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),i=o.__d),i)return o.__E=o}catch(t){e=t}throw e}},s=0,g.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),"function"==typeof e&&(e=e(v({},n),this.props)),e&&v(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),P(this))},g.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),P(this))},g.prototype.render=O,f=[],p="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,S.__r=0;var F=0;function Z(e,t,n,r,o){var l,i,c={};for(i in t)"ref"==i?l=t[i]:c[i]=t[i];var u={type:e,props:c,key:n,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--F,__source:o,__self:r};if("function"==typeof e&&(l=e.defaultProps))for(i in l)void 0===c[i]&&(c[i]=l[i]);return a.vnode&&a.vnode(u),u}const W=function(e){return e.message?Z("div",{className:"ui-flow__error",children:[Z(c,{className:"ui-flow__error-icon"}),Z("span",{className:"ui-flow__error-message",children:e.message})]}):null};function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const B=function(e){var t=e.types[e.type]||null;if(t){if(delete(e=V({modifierClass:"",rules:{}},e)).types,e.modifierClass+=" -".concat(e.type),["center","split"].forEach((function(t){e[t]&&(e.modifierClass+=" -".concat(t))})),e.name){var n=e.values[e.name];n&&(e.value=n)}return Z("div",{className:"ui-flow__block ".concat(e.modifierClass),children:Z(t,V({},e))})}};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const z=function(e){if(e.blocks)return Z("div",{className:"ui-flow__header",children:e.blocks.map((function(t){return Z(B,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({types:e.types},t))}))})},G=function(e){return e.active?Z("div",{className:"ui-flow__loading"}):null};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Y=function(e){return e.position!==e.step?null:Z("div",{className:"ui-flow__step",children:e.blocks.map((function(t){return Z(B,Q(Q({},e),t))}))})},ee=function(e){return e.action||"submit"!==e.type||(e.action="submit"),Z("button",{type:e.type,className:"ui-flow-button"+(e.bordered?" -bordered":""),onClick:function(t){return e.actions[e.action](t,e)},children:e.label})};var te;function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}const re=function(e){return n.createElement("svg",ne({fill:"none",viewBox:"0 0 10 9"},e),te||(te=n.createElement("path",{fill:"#fff",d:"m3 7.03-.62.61.62.63.62-.63L3 7.03Zm6.62-5.41A.88.88 0 0 0 8.38.38l1.24 1.24Zm-8 2.76A.88.88 0 0 0 .38 5.62l1.24-1.23Zm2 3.26 6-6.02L8.38.38l-6 6.03 1.24 1.23Zm0-1.23-2-2.03L.38 5.62l2 2.03 1.24-1.23Z"})))};function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ce=function(e){var t="ui-flow-checkbox";return Z("label",{className:t,children:[Z("div",{className:"".concat(t,"__check"),children:[Z("input",le({type:"checkbox",name:e.name,value:e.value||"on",checked:e.checked,className:"".concat(t,"__input")},e.rules)),Z("div",{className:"ui-flow-element ".concat(t,"__toggle"),children:Z(re,{className:"".concat(t,"__toggle-icon")})})]}),Z("span",{className:"".concat(t,"__label"),children:e.label})]})},ue=function(e){return Z("p",{className:"ui-flow-copy",dangerouslySetInnerHTML:{__html:e.value}})},ae=function(e){return Z("h2",{className:"ui-flow-heading",children:e.value})},se=function(e){return Z("input",{type:"hidden",name:e.name,value:e.value})},fe=function(e){return Z("img",{src:e.src,alt:e.alt,className:"ui-flow-image"})};var pe;function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}const de=function(e){return n.createElement("svg",_e({fill:"none",viewBox:"0 0 18 11"},e),pe||(pe=n.createElement("path",{fill:"#555",fillRule:"evenodd",d:"M9.707 10.207a1 1 0 0 1-1.414 0l-8-8A1 1 0 0 1 1.707.793L9 8.086 16.293.793a1 1 0 0 1 1.414 1.414l-8 8Z",clipRule:"evenodd"})))};function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const he=function(e){var t="ui-flow-select";return Z("div",{className:t,children:[Z("select",be(be({name:e.name,className:"ui-flow-element ".concat(t,"__input")},e.rules),{},{children:[Z((function(){if(e.placeholder)return Z("option",{value:"",disabled:!0,selected:!0,children:e.placeholder})}),{}),Object.entries(e.options).map((function(t){var n,r,o=(r=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return l}}(n,r)||function(e,t){if(e){if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],i=o[1];return Z("option",{value:l,selected:l===e.value,children:i})}))]})),Z(de,{className:"".concat(t,"__icon")})]})};function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Pe=function(e){var t="ui-flow-tags",n=Array.isArray(e.value)?e.value:[e.value];return Z("div",{className:t,children:Object.entries(e.options).map((function(r){var o,l,i=(l=2,function(e){if(Array.isArray(e))return e}(o=r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return l}}(o,l)||function(e,t){if(e){if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}(o,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],u=i[1];return Z("label",{className:"".concat(t,"__option"),children:[Z("input",ge({type:e.multiple?"checkbox":"radio",name:e.name,value:c,checked:!!n.includes(c),className:"".concat(t,"__input")},e.rules)),Z("span",{className:"ui-flow-element ".concat(t,"__label"),children:u})]})}))})};function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const De=function(e){return Z("input",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:e.type,name:e.name,value:e.value,placeholder:e.placeholder,className:"ui-flow-element ui-flow-text -".concat(e.type)},e.rules))};function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ee=function(e){return Z("textarea",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:e.name,value:e.value,placeholder:e.placeholder,className:"ui-flow-element ui-flow-textarea"},e.rules))};function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e){return function(e){if(Array.isArray(e))return Le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Me(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return l}}(e,t)||Me(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){if(e){if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Ue=function(e){var t="ui-flow-verify",r=Te((0,n.useState)(),2),o=r[0],l=r[1],i=Te((0,n.useState)(e.values.consumerId),2),c=i[0],u=i[1],a=Te((0,n.useState)(!1),2),s=a[0],f=a[1],p=Ie(Array(4)).map((function(){return(0,n.createRef)()}));(0,n.useEffect)((function(){v()}),[]);var _=function(){var e="";p.forEach((function(t){e+=t.current.value})),l(e)},d=function(e){e.target.select()},y=function(e){var t=Number(e.target.dataset.index);t<3&&p[t+1].current.select(),_()},b=function(e){e.preventDefault();var t=(e.clipboardData||window.clipboardData).getData("text");if(/\d{1,4}/.test(t)){var n=t.split("");p.forEach((function(e,t){e.current.value=n[t]})),_()}},v=function(){fetch(e.target,{method:"POST",body:JSON.stringify({email:e.values.email})}).then((function(e){return e.json()})).then((function(e){u(e.data.encrypted_consumer_id)}))},m=function(){f(!0),v()},h=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({instructions:"Check your email for a 4-digit confirmation code to",receipt:"Didn't receive a code?",resend:"Click to resend",sent:"We've emailed you a new code."},e.translation);return Z("div",{children:[Z("p",{className:"ui-flow-copy",children:[h.instructions," ",e.values.email,"."]}),Z("div",{className:t,children:Ie(Array(4)).map((function(e,n){return Z("input",{type:"number",min:0,max:9,maxLength:1,"data-index":n,className:"ui-flow-element ui-flow-text -number ".concat(t,"__digit"),onFocus:d,onKeyUp:y,onPaste:b,ref:p[n]})}))}),Z("p",{className:"ui-flow-copy",dangerouslySetInnerHTML:{__html:e.value}}),Z((function(){return Z("p",s?{className:"ui-flow-copy",children:h.sent}:{className:"ui-flow-copy",children:[h.receipt," ",Z("span",{className:"".concat(t,"__resend"),role:"button",onClick:m,children:h.resend})]})}),{}),Z("input",{type:"hidden",name:"verification_code",value:o}),Z("input",{type:"hidden",name:"encrypted_consumer_id",value:c})]})};function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ve=function(e){var t=We((0,n.useState)(null),2),r=t[0],o=t[1],i=We((0,n.useState)([]),2),c=i[0],u=i[1],a=We((0,n.useState)(!1),2),s=a[0],f=a[1],p=We((0,n.useState)(e.step),2),_=p[0],d=p[1],y=We((0,n.useState)([]),2),b=y[0],v=y[1],m=We((0,n.useState)(e.values),2),h=m[0],O=m[1],g=(0,n.createRef)(),j=(0,n.createRef)(),w={button:ee,checkbox:ce,copy:ue,email:De,heading:ae,hidden:se,image:fe,number:De,select:he,submit:ee,tags:Pe,textarea:Ee,text:De,verify:Ue};w=Fe(Fe({},w),e.blocks),(0,n.useEffect)((function(){e.source&&(f(!0),fetch(e.source).then((function(e){return e.json()})).then((function(e){u(e.header),v(e.steps),f(!1)})))}),[]),(0,n.useEffect)((function(){o(e.error)}),[e.error]);var P=function(t){d(t),l.send("flowNavigate",{label:b[t-1].ref||"",value:t,context:{flow:e.id||""}}),g.current.scrollIntoViewIfNeeded&&g.current.scrollIntoViewIfNeeded()},S=function(e){e.preventDefault();var t=j.current,n=t.checkValidity(),r=new FormData(t),o=Array.from(r.keys()).reduce((function(e,t){return e[t]?(e[t]=r.getAll(t),e):(e[t]=r.get(t),e)}),{});return O((function(e){return Fe(Fe({},e),o)})),requestAnimationFrame((function(){t.reportValidity()})),console.log(h),n},k={back:function(){e.onStep&&e.onStep(_),P(_-1)},cancel:function(){e.onCancel&&e.onCancel()},next:function(t){S(t)&&(e.onStep&&e.onStep(_),P(_+1))},redirect:function(e,t){t.url&&(window.location.href=t.url)},submit:function(t,n){S(t)&&(n.target&&(f(!0),fetch(n.target,{method:"POST",body:JSON.stringify(h)}).then((function(e){return e.json()})).then((function(t){var n=t.data;if(f(!1),t.status)return o(n.errors[0].message),void(e.onFailure&&e.onFailure(n));o(null),e.onSuccess&&e.onSuccess(n)}))),_<b.length&&k.next())}};return Z("div",{className:"ui-flow "+(e.modifierClass||""),ref:g,children:[Z(z,{blocks:c,types:w}),Z(W,{message:r}),Z(G,{active:s}),Z("form",{className:"ui-flow__steps",ref:j,children:b.map((function(e,t){return Z(Y,{actions:k,blocks:e.blocks,current:_,position:t+1,step:_,types:w,values:h})}))})]})};Ve.defaultProps={blocks:{},step:1,steps:[],values:{}};const $e=Ve})(),o})()));